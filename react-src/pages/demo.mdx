import Layout from "./post/layout.tsx"
import DemoComic from "../components/comics/demo/DemoComic.tsx"
import { Row, Text, Panel } from "../components/index.tsx"
import { RIGHT, LEFT } from "../lib/constants.ts"
import ComicComponents from "../components/comics/demo/ComicComponents.tsx"
import { RED_E, RED } from "../lib/colorConstants.ts"
import Slideshow from "../components/Slideshow.tsx"
export const meta = {
  title: "Demo",
  date: "2024-03-08",
  picturePath: "/graphics/demo/car-stop-sign2.png",
}

## Welcome to this demo comic webpage!

This comic webpage aims to explain how program comics and comic webpages are created. You can view the source code for this file at `pages/demo.mdx`.
It contains markdown, written directly in the file, and react components, imported from elsewhere in the codebase. Here's an example of a comic in a `Row`:

<Row
  vmargin={"0.5rem"}
  comps={[
    <Text
      value={
        <span>
          the quick{" "}
          {<Text value="brown" color="brown" fontSize={"30px"} inline={true} />}{" "}
          fox jumps over the{" "}
          {<Text value="lazy" color="blue" italics={true} inline={true} />} dog.
        </span>
      }
    />,
    <Text
      value="This is the second column, which is just a Text Component inside a Row Component."
      pos={LEFT}
    />,
  ]}
/>
<span>
  A program comic is some combination of five basic react components: `Text`,
  `Image`, `Panel`, `Row`, and `Column`. These program comics are not nearly as
  expressive as standard comics, they aren't as artistic or versatile. But they
  are simple to author and useful for conveying concepts in a clean style. Let's
  see an example in action:
</span>

<ComicComponents />

The goal of these five components is to make it easy to write simple program comics, without having to touch any CSS or HTML.
Together, they can be viewed as a domain-specific language or component library for creating simple comics.
Each element is a react component and offers props for customizing styling and layout.

It helps to know a few constraints and the grammar of the program comic language.
The language of a standard program comic is defined by a pretty simple
grammar:

- `Panel -> Text (Above) Panel | Text (Below) Panel | Image | Text`
- `Row -> Text (Above) Row | Text (Below) Row | Panel | Panel + Row`
- `Col -> Text (Above) Col | Text (Below) Col | Panel | Panel + Col`

Elements in a `Row` will have the same height.
Elements in a `Column` will have the same width.
By default, elements in a `Row` will flow `RIGHT` (causing any extra space to be on the `LEFT`) and elements in a `Column` will flow `UP` (causing any extra space to be `UP`)

In practice, `Row`s and `Col`s are not recursively defined and instead accept a prop that represents a list of components.
Let's see another example and call attention to the styling and layout props:

<DemoComic />

Below is the code that creates the comic above. Yes I know I need a custom code block.

<span style={{ fontSize: "16px" }}>
  ```
  <Row
    vpadding={"0.5rem"}
    useOutline={true}
    text={<Text value="Styling and Layout" color={RED} fontSize="24px" />}
    comps={[
      <Row
        text={
          <Text
            value="You can select a group of panels and annotate them. Use the boolean prop `useOutline` to declare whether each panel has an outline (default is false)."
            pos={CENTER}
            align={CENTER}
          />
        }
        comps={[
          <Panel
            useOutline={true}
            panel={<img src="/graphics/demo/car-stop-sign1.png" />}
          />,
          <Panel panel={<img src="/graphics/demo/car-stop-sign2.png" />} />,
        ]}
      />,
      <Row
        comps={[
          <Panel
            text={
              <Text
                value="You can choose the text's horizontal position, alignment, color, and font size..."
                color={RED_E}
                fontSize="16px"
                align={RIGHT}
              />
            }
            useOutline={true}
            panel={<img src="/graphics/demo/car-stop-sign1.png" />}
          />,
          <Panel
            text={
              <Text
                fontSize="14px"
                value="...and the relative position of the text to the panel."
              />
            }
            posText={DOWN}
            useOutline={true}
            panel={<img src="/graphics/demo/car-stop-sign2.png" />}
          />,
        ]}
      />,
    ]}
  />
  ```
</span>

Beyond comics and comic webpages, you can create program slideshows.
A program slideshow is a sequence of pictures, where one is shown at a time, inspired by [python tutor](https://pythontutor.com/python-compiler.html).

<Slideshow folder="/graphics/demo/slideshow" size={2} />

Code: `<Slideshow folder="/graphics/demo/slideshow" size={2} />`

To create a slideshow, provide a folder that contains the list of pictures and the total number of pictures.
Note that the files in the folder must be named `step0.png`, `step1.png`, and so
on.

The actual images in the comic can be created using [manim](https://github.com/ManimCommunity/manim), which is a version of the python library that 3blue1brown uses for math animation videos.

export default ({ children }) => <Layout meta={meta}>{children}</Layout>
